(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){e.exports=a(196)},109:function(e,t,a){},111:function(e,t,a){},134:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){},140:function(e,t,a){},146:function(e,t,a){},160:function(e,t,a){},163:function(e,t,a){},192:function(e,t){},196:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),c=a.n(l),o=(a(109),a(13)),s=a(7),i=a(9),u=a(11),m=a(10),h=a(12),p=(a(111),a(30)),d=a.n(p),E=a(218),f=a(209),b=a(216),g=a(22),v=a(89);function j(){var e=Object(v.a)(["\n;  font-size: 2.5rem;\n  color: ",";\n  margin-top: 0;\n  text-align: center;\n"]);return j=function(){return e},e}var C=a(90).a.h2(j(),function(e){return e.color?e.color:"white"}),O=function e(){var t=this;Object(s.a)(this,e),this.signup=function(e){return t.instance.post("/signup",e).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return console.error(e)})},this.login=function(e){return t.instance.post("/login",e).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.loggedInUser=function(e){return t.instance.get("/loggedin").then(function(e){return e.data}).catch(function(e,t){return console.error(t)})},this.upload=function(e){return t.instance.post("/upload",e).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return console.error(e)})},this.logout=function(){return t.instance.post("/logout",{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.updateUser=function(e){return t.instance.post("/updateUser",e).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.updateImage=function(e){var a=new FormData;return Object.keys(e).forEach(function(t){a.append(t,e[t])}),a.append("photo",e.photo),t.instance.post("/updateImage",a,{headers:{"content-type":"multipart/form-data"}}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.instance=d.a.create({baseURL:"".concat("https://sister-in-home.herokuapp.com/api","/auth"),withCredentials:!0})},y=a(210),k=a(199),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={username:"",password:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(o.a)({},a.state,Object(g.a)({},n,r)))},a.handleLogin=function(e){var t=a.props,n=t.setUser,r=t.history;e.preventDefault(),a.authService.login(a.state).then(function(e){n(e),r.push("/profile")},function(e){console.error(e)})},a.authService=new O,a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(C,{color:"black"},r.a.createElement("h1",null,"Login")),r.a.createElement("br",null),r.a.createElement(y.a,{id:"form",onSubmit:this.handleLogin},r.a.createElement(y.a.Group,{controlId:"formBasicEmail"},r.a.createElement(y.a.Label,null,r.a.createElement("h5",null,"User Name")),r.a.createElement(y.a.Control,{type:"text",name:"username",placeholder:"Enter username",value:t,onChange:this.handleChange}),r.a.createElement(y.a.Text,{className:"text-muted"},"We'll never share your username with anyone else.")),r.a.createElement(y.a.Group,{controlId:"formBasicPassword"},r.a.createElement(y.a.Label,null,r.a.createElement("h5",null,"Password")),r.a.createElement(y.a.Control,{type:"password",name:"password",placeholder:"Password",value:a,onChange:this.handleChange})),r.a.createElement(k.a,{variant:"primary",type:"submit",value:"Login"},"Submit")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(n.Component),S=(a(134),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={username:"",password:"",role:"Mami",description:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(o.a)({},a.state,Object(g.a)({},n,r)))},a.handleSignUp=function(e){e.preventDefault();var t=a.props,n=t.history,r=t.setUser;a.authService.signup(a.state).then(function(e){r(e),n.push("/profile")},function(e){console.error(e)})},a.handleUpload=function(e){var t=new FormData;t.append("picture",e.target.files[0]),a.authService.upload(t).then(function(e){a.setState(Object(o.a)({},a.state,{picture:e.secure_url}))},function(e){console.error(e)})},a.role=function(e){a.setState(Object(o.a)({},a.state,{role:e.target.value}))},a.authService=new O,a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,l=(t.role,t.description);return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(C,{color:"black"},r.a.createElement("h1",null,"Sign Up")),r.a.createElement("br",null),r.a.createElement(y.a,{id:"form",onSubmit:this.handleSignUp},r.a.createElement(y.a.Group,{controlId:"formBasicUsername"},r.a.createElement(y.a.Label,null,r.a.createElement("h5",null,"User Name")),r.a.createElement(y.a.Control,{type:"text",name:"username",placeholder:"Enter Username",value:a,required:!0,onChange:this.handleChange}),r.a.createElement(y.a.Text,{className:"text-muted"},"We'll never share your User Name with anyone else.")),r.a.createElement(y.a.Group,{controlId:"formBasicDescription"},r.a.createElement(y.a.Label,null,r.a.createElement("h5",null,"Description")),r.a.createElement(y.a.Control,{type:"text",placeholder:"Add a Description",value:l,name:"description",onChange:this.handleChange})),r.a.createElement(y.a.Group,{controlId:"formBasicPassword"},r.a.createElement(y.a.Label,null,r.a.createElement("h5",null,"Password")),r.a.createElement(y.a.Control,{type:"password",placeholder:"Password",value:n,name:"password",required:!0,onChange:this.handleChange})),r.a.createElement(y.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(y.a.Label,null,r.a.createElement("h5",null,"Example select Role")),r.a.createElement(y.a.Control,{onChange:function(t){e.role(t)},as:"select"},r.a.createElement("option",null,"Mami"),r.a.createElement("option",null,"Sister"))),r.a.createElement(k.a,{variant:"primary",type:"submit",value:"Create account"},"Submit")),r.a.createElement("br",null))}}]),t}(n.Component)),U=(a(136),a(212)),I=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"carousel"},r.a.createElement(U.a,null,r.a.createElement(U.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"images/1.jpg",alt:"First slide"}),r.a.createElement("br",null),r.a.createElement(U.a.Caption,null,r.a.createElement("h3",null,"No sabes con qui\xe9n a tus hijos dejar , en esta app te podemos ayudar."))),r.a.createElement(U.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"images/free-babysitter-vector.png",alt:"Third slide"}),r.a.createElement("br",null),r.a.createElement(U.a.Caption,null,r.a.createElement("h3",null,"Ponte en contacto con tu Baby Sister , ve sus valoraciones y escoge a la que m\xe1s se ajuste a tus necesidades."))),r.a.createElement(U.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"images/vector-modern-babysitter-nanny-service-cartoon-illustration.jpg",alt:"Third slide"}),r.a.createElement(U.a.Caption,null))))}}]),t}(n.Component),N=a(211),x=a(213),P=a(200),B=(a(138),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"logout",value:function(){localStorage.clear(),window.location.href="/"}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,null==this.props.user?r.a.createElement("div",{id:"home"},r.a.createElement(N.a,{bg:"dark",variant:"dark",className:"navbar-wrapper"},r.a.createElement(N.a.Brand,{href:"/"}," ",r.a.createElement("h1",null,"Sister In Home ")," "),r.a.createElement(x.a,{className:"ml-auto"},r.a.createElement(P.a,{to:"/"},"Home"),r.a.createElement(P.a,{to:"/signup"},"Signup"),r.a.createElement(P.a,{to:"/login"},"Login")))):r.a.createElement("div",{id:"home"},r.a.createElement(N.a,{bg:"dark",variant:"dark",className:"navbar-wrapper"},r.a.createElement(N.a.Brand,{href:""}," ",r.a.createElement("h1",null,"Sister In Home")),r.a.createElement(x.a,{className:"ml-auto"},r.a.createElement(P.a,{to:"/profile"}," Profile"),r.a.createElement(P.a,{to:"/search"}," Search "),r.a.createElement(P.a,{to:"/",onClick:function(){return e.props.logout()}},"Logout")))))}}]),t}(n.Component)),D=(a(140),a(201)),L=a(202),M=a(203),A=a(204),G=a(205),T=a(206),_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;"photo"===n?a.setState(Object(o.a)({},a.state,{photo:e.target.files[0]})):a.setState(Object(o.a)({},a.state,Object(g.a)({},n,r)))},a.handleSubmitImage=function(e){e.preventDefault();var t=a.props,n=t.history,r=t.setUser;a.authService.updateImage({id:a.state.id,photo:a.state.photo}).then(function(e){r(e),n.push("/profile")},function(e){console.error(e)})},a.handleSignUp=function(e){e.preventDefault();var t=a.props,n=t.history,r=t.setUser;a.authService.updateUser(a.state).then(function(e){r(e),n.push("/profile")},function(e){console.error(e)})},a.authService=new O,a.state={id:a.props.user.id,username:a.props.user.username,description:a.props.user.description,photo:a.props.user.picture},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null," Welcome ",this.props.user.username),r.a.createElement("br",null),r.a.createElement("div",{className:"div-container"},r.a.createElement("div",{className:"div-profile"},r.a.createElement(D.a,null,r.a.createElement(L.a,{className:"CardTitle"}," ",r.a.createElement("h1",null,"Your Profile")," "),r.a.createElement(M.a,{top:!0,width:"100%",src:this.props.user.picture,alt:"Card image cap"}),r.a.createElement(A.a,null,r.a.createElement(G.a,{className:"ep"}," ",r.a.createElement("h2",null,this.props.user.username)),r.a.createElement(T.a,{className:"ds"},r.a.createElement("h3",null,"Description : "),r.a.createElement("br",null)," ",r.a.createElement("h4",null,this.props.user.description)))),r.a.createElement("br",null)),r.a.createElement("div",{className:"div-profile"},r.a.createElement(D.a,null,r.a.createElement(L.a,{className:"CardTitle"},r.a.createElement("h1",null," Edit Profile ")),r.a.createElement(M.a,{top:!0,width:"100%",src:this.props.user.picture,alt:"Card image cap"}),r.a.createElement(A.a,null,r.a.createElement(y.a,{onSubmit:function(t){e.handleSubmitImage(t)}},r.a.createElement(y.a.Group,{controlId:"formBasicDescription"},r.a.createElement(y.a.Label,{className:"ep"},r.a.createElement("h2",null,"Edit Photo")),r.a.createElement(y.a.Control,{type:"file",placeholder:"Change your Image",name:"photo",onChange:this.handleChange})),r.a.createElement(k.a,{variant:"primary",type:"submit",value:"Create account"},"Submit")),r.a.createElement("br",null),r.a.createElement(y.a,{id:"form",onSubmit:this.handleSignUp},r.a.createElement(y.a.Group,{controlId:"formBasicUsername"},r.a.createElement(y.a.Label,null," ",r.a.createElement("h4",null,"User Name")),r.a.createElement(y.a.Control,{type:"text",name:"username",placeholder:"Enter Username",value:this.state.username,required:!0,onChange:this.handleChange}),r.a.createElement(y.a.Text,{className:"text-muted"})),r.a.createElement(y.a.Group,{controlId:"formBasicDescription"},r.a.createElement(y.a.Label,null," ",r.a.createElement("h4",null,"Description")),r.a.createElement(y.a.Control,{type:"text",placeholder:"Add a Description",value:this.state.description,name:"description",onChange:this.handleChange})),r.a.createElement(k.a,{variant:"primary",type:"submit",value:"Create account"},"Submit")))),r.a.createElement("br",null))))}}]),t}(n.Component),W=(a(146),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"fl"},r.a.createElement("h3",null,"By   ")),r.a.createElement("div",{className:"fr"},r.a.createElement("h4",null,"Estefan\xeda del Castillo Medrano.")))}}]),t}(n.Component)),R=a(214),q=a(34),F=(a(160),{width:"50%",height:"60%"}),H=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{},mamis:[],sisters:[]},a.onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onMapClicked=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a.goChat=function(){a.props.history.push("/chat")},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("".concat("https://sister-in-home.herokuapp.com/api","/auth/mamis")).then(function(t){e.setState(Object(o.a)({},e.state,{mamis:t.data}))}).then(d.a.get("".concat("https://sister-in-home.herokuapp.com/api","/auth//sisters")).then(function(t){e.setState(Object(o.a)({},e.state,{sisters:t.data}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"map"},r.a.createElement(q.Map,{id:"map",google:this.props.google,style:F,initialCenter:{lat:40.392303,lng:-3.6996187},zoom:15,onClick:this.onMapClicked},"Sister"===this.props.user.role&&this.state.mamis.map(function(t,a){return r.a.createElement(q.Marker,{onClick:e.onMarkerClick,name:t.username,position:{lat:t.geo.coordinates[0],lng:t.geo.coordinates[1]},key:a})}),"Mami"===this.props.user.role&&this.state.sisters.map(function(t,a){return r.a.createElement(q.Marker,{onClick:e.onMarkerClick,name:t.username,position:{lat:t.geo.coordinates[0],lng:t.geo.coordinates[1]},key:a})}),r.a.createElement(q.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow},r.a.createElement("div",null,r.a.createElement("h1",null," ",this.state.selectedPlace.name," ")))),r.a.createElement("div",null),"Sister"===this.props.user.role&&this.state.mamis.map(function(e){return r.a.createElement("div",{className:"div-map"},r.a.createElement(D.a,null,r.a.createElement(M.a,{top:!0,width:"100%",src:e.picture,alt:"Card image cap"}),r.a.createElement(A.a,null,r.a.createElement(L.a,{className:"CardTitle"},r.a.createElement("h1",null,e.username," ")),r.a.createElement(T.a,null,r.a.createElement("h3",null,e.description)),r.a.createElement(P.a,{to:"/chat"},r.a.createElement(R.a,null,"Chat with ",e.username)))),r.a.createElement("br",null))}),"Mami"===this.props.user.role&&this.state.sisters.map(function(e){return r.a.createElement("div",{className:"div-map"},r.a.createElement(D.a,{className:"Card"},r.a.createElement(M.a,{top:!0,width:"100%",src:e.picture}),r.a.createElement(A.a,null,r.a.createElement(L.a,{className:"CardTitle"},r.a.createElement("h1",null,e.username)),r.a.createElement(T.a,null,r.a.createElement("h3",null,e.description)),r.a.createElement(P.a,{to:"/chat"},r.a.createElement(R.a,null,"Chat with ",e.username)))),r.a.createElement("br",null))})))}}]),t}(n.Component),z=Object(q.GoogleApiWrapper)({apiKey:"AIzaSyBlGDDIP1eGHpu1nZa0Al9QP-2sqBTs5ggR"})(H),K=(a(73),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handlerText=function(t){e.setState(Object(o.a)({},e.state,{text:t.target.value}))},e.handlerSubmit=function(t){t.preventDefault(),e.props.info(e.state.text),e.setState(Object(o.a)({},e.state,{text:""}))},e.state={text:""},e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(y.a,null,r.a.createElement(y.a.Group,{controlId:"formBasicEmail"},r.a.createElement(y.a.Control,{onChange:function(t){e.handlerText(t)},type:"text",placeholder:"Your message",value:this.state.text})),r.a.createElement(k.a,{variant:"primary",type:"submit",onClick:function(t){e.handlerSubmit(t)}},"Send"))}}]),t}(n.Component)),Y=a(207),J=a(208),Q=a(133),V=a(217),Z=(a(163),a(98)),$=a.n(Z),X=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).sendMessage=function(e){if(""!==e.trim()){var t={text:e,user:a.props.user.username};a.socket.emit("messageSent",t)}},a.componentDidUpdate=function(){document.getElementById("chatBox").scrollTop=document.getElementById("chatBox").scrollHeight},a.componentDidMount=function(){a.socket.emit("newUser",a.props.user.username)},a.deleteUser=function(){a.socket.emit("deleteUser",a.props.user.username)},a.state={user:a.props.user.username,messages:[],userList:[]},console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_URL:"https://sister-in-home.herokuapp.com/api",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyBlGDDIP1eGHpu1nZa0Al9QP-2sqBTs5ggR",REACT_APP_BACK:"https://sister-in-home.herokuapp.com"})),a.socket=$()("".concat("https://sister-in-home.herokuapp.com")),a.socket.on("newMessage",function(e){var t=a.state.messages;t.push(e),a.setState(Object(o.a)({},a.state,{messages:t}))}),a.socket.on("list",function(e){a.setState(Object(o.a)({},a.state,{userList:e}))}),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"wrapper"},r.a.createElement(P.a,{to:"/search"},r.a.createElement(k.a,{className:"b-chat",onClick:function(){e.deleteUser()}},"Go to Back"))),r.a.createElement(Y.a,{id:"cont"},r.a.createElement(J.a,null,r.a.createElement(Q.a,{sm:3,id:"userList"},r.a.createElement("h5",null,"ACTIVE USERS:"),r.a.createElement(V.a,null,this.state.userList.map(function(t,a){return t===e.state.user?r.a.createElement(V.a.Item,{key:a},r.a.createElement("b",null,t)):r.a.createElement(V.a.Item,{key:a},t)}))),r.a.createElement(Q.a,{sm:9},r.a.createElement("div",{className:"chatBox",id:"chatBox"},this.state.messages.map(function(e,t){return r.a.createElement("h6",{key:t},e.user," : ",e.text)})),r.a.createElement("div",{className:"textForm"},r.a.createElement(K,{info:this.sendMessage}))))),r.a.createElement("br",null))}}]),t}(n.Component),ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).setUser=function(e){a.setState(Object(o.a)({},a.state,{user:e}))},a.fetchUser=function(){null===a.state.user&&a.authService.loggedInUser().then(function(e){a.setUser(e)},function(e){a.setUser(null)}).catch(function(){a.setUser(null)})},a.logout=function(){a.authService.logout().then(function(){a.setState({user:null})})},a.state={user:null},a.authService=new O,a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(B,{className:"navbars",user:this.state.user,logout:this.logout})),r.a.createElement("section",null,null==this.state.user?r.a.createElement(E.a,null,r.a.createElement(f.a,{exact:!0,path:"/",render:function(){return r.a.createElement(I,null)}})," ",r.a.createElement(f.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(w,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(f.a,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(S,Object.assign({},t,{setUser:e.setUser}))}})):r.a.createElement(E.a,null,r.a.createElement(f.a,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(_,Object.assign({},t,{user:e.state.user,picture:e.state.picture,setUser:e.setUser}))}}),r.a.createElement(f.a,{exact:!0,path:"/search",render:function(){return r.a.createElement(z,{user:e.state.user})}}),r.a.createElement(f.a,{exact:!0,path:"/chat",render:function(){return r.a.createElement(X,{user:e.state.user})}}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(W,null))}}]),t}(n.Component),te=Object(b.a)(ee);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=a(215);c.a.render(r.a.createElement(ae.a,null,r.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[104,2,1]]]);
//# sourceMappingURL=main.c6274398.chunk.js.map