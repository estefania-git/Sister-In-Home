(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){},116:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(21),l=a.n(o),c=(a(71),a(13)),i=a(6),s=a(7),u=a(9),m=a(8),h=a(10),p=(a(73),a(24)),d=a.n(p),f=a(131),E=a(124),g=a(130),b=a(16),v=a(53);function j(){var e=Object(v.a)(["\n;  font-size: 2.5rem;\n  color: ",";\n  margin-top: 0;\n  text-align: center;\n"]);return j=function(){return e},e}var O=a(54).a.h2(j(),function(e){return e.color?e.color:"white"}),y=function e(){var t=this;Object(i.a)(this,e),this.signup=function(e){return t.instance.post("/signup",e).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return console.error(e)})},this.login=function(e){return t.instance.post("/login",e).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.loggedInUser=function(e){return t.instance.get("/loggedin").then(function(e){return console.log(e),e.data}).catch(function(e,t){return console.error(t)})},this.upload=function(e){return t.instance.post("/upload",e).then(function(e){return Promise.resolve(e.data)}).catch(function(e){return console.error(e)})},this.logout=function(){return t.instance.post("/logout",{}).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.updateUser=function(e){return t.instance.post("/updateUser",e).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.updateImage=function(e){var a=new FormData;return Object.keys(e).forEach(function(t){return a.append(t,e[t])}),t.instance.post("/updateImage",a).then(function(e){return e.data}).catch(function(e){return console.error(e)})},this.instance=d.a.create({baseURL:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_URL:"https://sister-in-home.herokuapp.com/api",REACT_APP_GOOGLE_MAPS_API_KEY:"AIzaSyBlGDDIP1eGHpu1nZa0Al9QP-2sqBTs5gg"}).REACT_APP_API_URL,"/auth"),withCredentials:!0})},C=a(125),w=a(122),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={username:"",password:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(c.a)({},a.state,Object(b.a)({},n,r)))},a.handleLogin=function(e){var t=a.props,n=t.setUser,r=t.history;e.preventDefault(),a.authService.login(a.state).then(function(e){n(e),r.push("/profile")},function(e){console.error(e)})},a.authService=new y,a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",null,r.a.createElement(O,{color:"black"},"Login"),r.a.createElement("br",null),r.a.createElement(C.a,{id:"form",onSubmit:this.handleLogin},r.a.createElement(C.a.Group,{controlId:"formBasicEmail"},r.a.createElement(C.a.Label,null,"Email address"),r.a.createElement(C.a.Control,{type:"text",name:"username",placeholder:"Enter email",value:t,onChange:this.handleChange}),r.a.createElement(C.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(C.a.Group,{controlId:"formBasicPassword"},r.a.createElement(C.a.Label,null,"Password"),r.a.createElement(C.a.Control,{type:"password",name:"password",placeholder:"Password",value:a,onChange:this.handleChange})),r.a.createElement(w.a,{variant:"primary",type:"submit",value:"Login"},"Submit")))}}]),t}(n.Component),k=(a(95),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={username:"",password:"",role:"Mami",description:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(c.a)({},a.state,Object(b.a)({},n,r)))},a.handleSignUp=function(e){e.preventDefault();var t=a.props,n=t.history,r=t.setUser;a.authService.signup(a.state).then(function(e){r(e),n.push("/profile")},function(e){console.error(e)})},a.handleUpload=function(e){var t=new FormData;t.append("picture",e.target.files[0]),a.authService.upload(t).then(function(e){a.setState(Object(c.a)({},a.state,{picture:e.secure_url}))},function(e){console.error(e)})},a.role=function(e){a.setState(Object(c.a)({},a.state,{role:e.target.value}))},a.authService=new y,a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,o=(t.role,t.description);return r.a.createElement("div",null,r.a.createElement(O,{color:"black"},"Sign Up"),r.a.createElement("br",null),r.a.createElement(C.a,{id:"form",onSubmit:this.handleSignUp},r.a.createElement(C.a.Group,{controlId:"formBasicUsername"},r.a.createElement(C.a.Label,null,"User Name"),r.a.createElement(C.a.Control,{type:"text",name:"username",placeholder:"Enter Username",value:a,required:!0,onChange:this.handleChange}),r.a.createElement(C.a.Text,{className:"text-muted"},"We'll never share your User Name with anyone else.")),r.a.createElement(C.a.Group,{controlId:"formBasicDescription"},r.a.createElement(C.a.Label,null,"Description"),r.a.createElement(C.a.Control,{type:"text",placeholder:"Add a Description",value:o,name:"description",onChange:this.handleChange})),r.a.createElement(C.a.Group,{controlId:"formBasicPassword"},r.a.createElement(C.a.Label,null,"Password"),r.a.createElement(C.a.Control,{type:"password",placeholder:"Password",value:n,name:"password",required:!0,onChange:this.handleChange})),r.a.createElement(C.a.Group,{controlId:"exampleForm.ControlSelect1"},r.a.createElement(C.a.Label,null,"Example select Role"),r.a.createElement(C.a.Control,{onChange:function(t){e.role(t)},as:"select"},r.a.createElement("option",null,"Mami"),r.a.createElement("option",null,"Sister"))),r.a.createElement(w.a,{variant:"primary",type:"submit",value:"Create account"},"Submit")))}}]),t}(n.Component)),U=(a(97),a(128)),I=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"carousel"},r.a.createElement(U.a,null,r.a.createElement(U.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"images/1.jpg",alt:"First slide"}),r.a.createElement("br",null),r.a.createElement(U.a.Caption,null,r.a.createElement("h3",null," No sabes con qui\xe9n a tus hijos dejar , en esta app te podemos ayudar."))),r.a.createElement(U.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"images/free-babysitter-vector.png",alt:"Third slide"}),r.a.createElement("br",null),r.a.createElement(U.a.Caption,null,r.a.createElement("h3",null," Ponte en contacto con tu Baby Sister , ve sus valoraciones y escoge a la que m\xe1s se ajuste a tus necesidades."))),r.a.createElement(U.a.Item,null,r.a.createElement("img",{className:"d-block w-100",src:"images/vector-modern-babysitter-nanny-service-cartoon-illustration.jpg",alt:"Third slide"}),r.a.createElement(U.a.Caption,null))))}}]),t}(n.Component),P=a(126),D=a(127),L=a(123),x=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"logout",value:function(){localStorage.clear(),window.location.href="/"}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,null==this.props.user?r.a.createElement("div",{id:"home"},r.a.createElement(P.a,{bg:"dark",variant:"dark"},r.a.createElement(P.a.Brand,{href:""},"Sister In Home"),r.a.createElement(D.a,{className:"mr-auto"},r.a.createElement(L.a,{to:"/"},"Home"),r.a.createElement(L.a,{to:"/signup"},"Signup"),r.a.createElement(L.a,{to:"/login"},"Login")))):r.a.createElement("div",{id:"home"},r.a.createElement(P.a,{bg:"dark",variant:"dark"},r.a.createElement(P.a.Brand,{href:""},"Sister In Home"),r.a.createElement(D.a,{className:"mr-auto"},r.a.createElement(L.a,{to:"/profile"}," Profile"),r.a.createElement(L.a,{to:"/search"}," Search "),r.a.createElement(L.a,{to:"/",onClick:function(){return e.props.logout()}},"Logout")))))}}]),t}(n.Component),N=(a(99),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;"photo"===n?a.setState(Object(c.a)({},a.state,{picture:e.target.files[0]})):a.setState(Object(c.a)({},a.state,Object(b.a)({},n,r)))},a.handleSubmitImage=function(e){e.preventDefault();var t=a.props,n=t.history,r=t.setUser;a.authService.updateImage({id:a.state.id,photo:a.state.picture}).then(function(e){r(e),n.push("/profile")},function(e){console.error(e)})},a.handleSignUp=function(e){e.preventDefault();var t=a.props,n=t.history,r=t.setUser;a.authService.updateUser(a.state).then(function(e){r(e),n.push("/profile")},function(e){console.error(e)})},a.authService=new y,a.state={id:a.props.user.id,username:a.props.user.username,description:a.props.user.description,picture:a.props.user.picture},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props),r.a.createElement("div",null,r.a.createElement("h1",null," Welcome ",this.props.user.username),r.a.createElement("p",null," Description : ",r.a.createElement("br",null)," ",this.props.user.description),r.a.createElement("div",{className:"photo"},r.a.createElement("img",{src:this.props.user.picture,alt:""})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("h3",null," Edit your Profile"),r.a.createElement(C.a,{onSubmit:function(t){e.handleSubmitImage(t)}},r.a.createElement(C.a.Group,{controlId:"formBasicDescription"},r.a.createElement(C.a.Label,null,"Edit Photo"),r.a.createElement(C.a.Control,{type:"file",placeholder:"Change your Image",name:"picture",onChange:this.handleChange})),r.a.createElement(w.a,{variant:"primary",type:"submit",value:"Create account"},"Submit")),r.a.createElement(C.a,{id:"form",onSubmit:this.handleSignUp},r.a.createElement(C.a.Group,{controlId:"formBasicUsername"},r.a.createElement(C.a.Label,null,"User Name"),r.a.createElement(C.a.Control,{type:"text",name:"username",placeholder:"Enter Username",value:this.state.username,required:!0,onChange:this.handleChange}),r.a.createElement(C.a.Text,{className:"text-muted"},"We'll never share your User Name with anyone else.")),r.a.createElement(C.a.Group,{controlId:"formBasicDescription"},r.a.createElement(C.a.Label,null,"Description"),r.a.createElement(C.a.Control,{type:"text",placeholder:"Add a Description",value:this.state.description,name:"description",onChange:this.handleChange})),r.a.createElement(w.a,{variant:"primary",type:"submit",value:"Create account"},"Submit"))))}}]),t}(n.Component)),A=(a(101),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card"},r.a.createElement("br",null),r.a.createElement("h3",null,"By"),r.a.createElement("p",null,"Estefan\xeda del Castillo Medrano."),r.a.createElement("br",null))}}]),t}(n.Component)),B=a(28),G=(a(116),{width:"50%",height:"50%"}),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{},mamis:[]},a.onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onMapClicked=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("http://localhost:5000/api/auth/mamis").then(function(t){e.setState(Object(c.a)({},e.state,{mamis:t.data}))})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.Map,{id:"map",google:this.props.google,style:G,initialCenter:{lat:40.4167,lng:-3.703254},zoom:15,onClick:this.onMapClicked},this.state.mamis.map(function(t,a){return console.log(t.geo.coordinates[1]),r.a.createElement(B.Marker,{onClick:e.onMarkerClick,name:t.name,position:{lat:t.geo.coordinates[0],lng:t.geo.coordinates[1]},key:a})}),r.a.createElement(B.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow},r.a.createElement("div",null,r.a.createElement("h1",null," ",this.state.selectedPlace.name," ")," ")," "))," ")}}]),t}(n.Component),W=Object(B.GoogleApiWrapper)({apiKey:"AIzaSyBlGDDIP1eGHpu1nZa0Al9QP-2sqBTs5gg"})(M),_=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).setUser=function(e){a.setState(Object(c.a)({},a.state,{user:e}))},a.fetchUser=function(){null===a.state.user&&a.authService.loggedInUser().then(function(e){a.setUser(e)},function(e){a.setUser(null)}).catch(function(){a.setUser(null)})},a.logout=function(){a.authService.logout().then(function(){a.setState({user:null})})},a.state={user:null},a.authService=new y,a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(x,{className:"navbars",user:this.state.user,logout:this.logout})),r.a.createElement("section",null,null==this.state.user?r.a.createElement(f.a,null,r.a.createElement(E.a,{exact:!0,path:"/",render:function(){return r.a.createElement(I,null)}})," ",r.a.createElement(E.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(S,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(E.a,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(k,Object.assign({},t,{setUser:e.setUser}))}})):r.a.createElement(f.a,null,r.a.createElement(E.a,{exact:!0,path:"/profile",render:function(t){return r.a.createElement(N,Object.assign({},t,{user:e.state.user,picture:e.state.picture,setUser:e.setUser}))}}),r.a.createElement(E.a,{exact:!0,path:"/search",render:function(){return r.a.createElement(W,null)}})),r.a.createElement("footer",null,r.a.createElement(A,null))))}}]),t}(n.Component),T=Object(g.a)(_);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=a(129);l.a.render(r.a.createElement(R.a,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},66:function(e,t,a){e.exports=a(119)},71:function(e,t,a){},73:function(e,t,a){},95:function(e,t,a){},97:function(e,t,a){},99:function(e,t,a){}},[[66,2,1]]]);
//# sourceMappingURL=main.d0b7ab7e.chunk.js.map